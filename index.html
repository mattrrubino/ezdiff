<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EZDiff: EZDiff</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EZDiff
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">An automatic differentiation library that&#39;s easy to understand and use.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">EZDiff </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> A small <a href="https://en.wikipedia.org/wiki/Automatic_differentiation">automatic differentiation</a> (AD) library implemented in C++. This library uses C++ operator overloading to automatically construct a static computation graph from mathematical expressions in source code. This graph is evaluated in the forward pass, and the gradient is computed in the backward pass using reverse accumulation AD. Detailed API reference is available on <a href="https://mattrrubino.github.io/ezdiff/">GitHub Pages</a>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Installation</h1>
<p>This library works on Unix-based operating systems. To install it, execute the following commands:</p>
<div class="fragment"><div class="line">git clone git@github.com:mattrrubino/ezdiff.git</div>
<div class="line">cd ezdiff</div>
<div class="line">sudo make install</div>
</div><!-- fragment --><p>To uninstall the library, simply run <code>sudo make uninstall</code> from the project directory.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Usage</h1>
<p>To use this library, you must construct expressions using the <code>Variable</code> type. These variables are assigned a value, and you use them to compute derivatives. For example, suppose you wanted to compute the derivative of the following function:</p>
<div class="fragment"><div class="line">f(x) = x^2 + 2x + 1</div>
</div><!-- fragment --><p>You could compute the derivative of this function with respect to $x$ where $x = 3$ using the following code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ezd/ezd.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    Variable x = ezd::make_var(3.0f, 0.0f);</div>
<div class="line">    Variable f = x * x + 2.0f * x + 1.0f;</div>
<div class="line"> </div>
<div class="line">    f-&gt;forward();</div>
<div class="line">    f-&gt;zero_grad();</div>
<div class="line">    f-&gt;backward();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Write the derivative to standard output</span></div>
<div class="line">    std::cout &lt;&lt; x-&gt;get_grad() &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p>For more examples, see the <code>test</code> directory. In particular, the linear regression test shows how this library can be applied to machine learning.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Performance</h1>
<p>This implementation prioritizes simplicity. It is readable and correct, but it is not performant. Specifically, it suffers from the following issues:</p>
<ol type="1">
<li><b>Heap Allocations</b>\ Each node is stored using a separate heap allocation. Because computational nodes are spread throughout the heap, forward and backward passes suffer from poor cache utilization. To rememdy this, the nodes should be stored in a contiguous region of memory so that the forward and backward passes are cache-friendly.</li>
<li><b>Recursion</b>\ The forward and backward passes are implemented recursively. This adds significant function call overhead. To remedy this, the passes should be implemented iteratively.</li>
<li><b>Polymorphism</b>\ The behavior of the forward and backward passes are manipulated polymorphically. This adds virtual function overhead. To remedy this, the passes could be implemented with a switch.</li>
<li><b>Smart Pointers</b>\ Memory is managed using shared pointers. This adds overhead for reference counting. To remedy this, standard pointers could be used with manual freeing.</li>
<li><b>Sequential</b>\ This implementation is sequential. It does not leverage GPUs or SIMD instructions. Parallelizing the code would make it faster for large graphs. </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
